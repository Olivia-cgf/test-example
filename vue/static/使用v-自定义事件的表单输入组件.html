<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
<currency-input v-model="price"></currency-input>
<script src="../dist/vue.js"></script>
<script>
Vue.component('currency-input',{
  template:'<span>$<input ref="input" v-bind:value="value" v-on:input="updateValue($event.target.value)"></span>',
  props:"['value']",
  methods:{
    updateValue:function(value){
        var formattedValue=value.trim().slice(0,value.indexOf(".")==-1?value.length:value.indexOf('.')+3)
    }
    if(formattedValue!==value){
         this.$refs.input.value=formattedValue
    }
    this.$emit('input',Number(formattedValue))
  }
})
</script>
</body>
</html>